configfile: "config/config.yaml"


include: "rules/common.smk"
include: "rules/consequence.smk"
include: "rules/intervals.smk"
include: "rules/omim.smk"
include: "rules/gnomad.smk"
include: "rules/mendelian_traits.smk"
include: "rules/smedley_et_al.smk"
include: "rules/complex_traits.smk"
include: "rules/ldscore.smk"
include: "rules/stats.smk"


TRAIT_TYPES = ["mendelian_traits", "complex_traits"]


rule all:
    input:
        expand(
            "results/dataset/{dataset}/test.parquet",
            dataset=config["datasets"],
        ),
        expand(
            "results/tex/{stat}/{trait_type}.tex",
            stat=["full_consequence_counts", "all_consequence_counts"],
            trait_type=TRAIT_TYPES,
        ),
        expand(
            "results/tex/matched_consequence_counts/{dataset}.tex",
            dataset=config["datasets"],
        ),
        expand(
            "results/tex/matched_feature_performance/{dataset}.tex",
            dataset=config["datasets"],
        ),
        expand(
            "results/plots/consequence_group_distribution/{dataset}.svg",
            dataset=config["datasets"],
        ),
